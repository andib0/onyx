import type { MealTemplate, ScheduleBlock, SupplementItem } from '../types/appTypes';

type ProgramRow = {
  ex: string;
  sets: string;
  reps: string;
  rir: string;
  rest: string;
  notes: string;
  prog: string;
};

type NutritionTarget = {
  k: string;
  v: string;
  n: string;
};

type MetaData = {
  timezone: string;
  caffeineCutoff: string;
  sleepTarget: string;
  proteinTarget: string;
  hydrationTarget: string;
};

type WeekdayData = {
  schedule: ScheduleBlock[];
  program: Record<string, ProgramRow[]>;
  nutritionTargets: NutritionTarget[];
  mealTemplates: MealTemplate[];
  mealTemplatesByDay: Record<string, MealTemplate[]>;
  supplements: SupplementItem[];
  meta: MetaData;
};

const WEEKDAY_MEAL_TEMPLATES: MealTemplate[] = [
  {
    name: 'Breakfast (fast)',
    examples: 'Skyr + oats + banana; eggs + bread + fruit.',
    tags: [
      { label: 'Protein', value: '30-40 g' },
      { label: 'Carbs', value: '40-60 g' },
      { label: 'Calories', value: '450-550' },
      { label: 'Vitamins', value: 'Fruit + dairy' },
    ],
  },
  {
    name: 'Packed lunch',
    examples: 'Chicken + rice + salad; tuna + bread + tomatoes.',
    tags: [
      { label: 'Protein', value: '45-60 g' },
      { label: 'Carbs', value: '60-90 g' },
      { label: 'Calories', value: '600-800' },
      { label: 'Fiber', value: 'Veg + whole grains' },
    ],
  },
  {
    name: 'Pre-gym snack',
    examples: 'Rice cakes + honey + whey; banana + yogurt.',
    tags: [
      { label: 'Protein', value: '20-30 g' },
      { label: 'Carbs', value: '30-50 g' },
      { label: 'Calories', value: '250-350' },
      { label: 'Timing', value: '45-90 min pre-gym' },
    ],
  },
  {
    name: 'Home meal #1',
    examples: 'Family meal + "protein patch" if low protein.',
    tags: [
      { label: 'Protein', value: '40-60 g' },
      { label: 'Carbs', value: '50-80 g' },
      { label: 'Calories', value: '650-850' },
      { label: 'Vitamins', value: 'Veg + herbs' },
    ],
  },
  {
    name: 'Post-gym meal',
    examples: 'Lean protein + rice/potatoes; skyr + cereal + fruit.',
    tags: [
      { label: 'Protein', value: '35-50 g' },
      { label: 'Carbs', value: '50-70 g' },
      { label: 'Calories', value: '500-700' },
      { label: 'Recovery', value: 'Low fat/spice' },
    ],
  },
];

const REST_DAY_MEAL_TEMPLATES: MealTemplate[] = [
  {
    name: 'Breakfast (protein-first)',
    examples: 'Omelet + bread + fruit; skyr + oats + berries.',
    tags: [
      { label: 'Protein', value: '30-40 g' },
      { label: 'Carbs', value: '40-60 g' },
      { label: 'Calories', value: '450-600' },
      { label: 'Satiety', value: 'Fiber + fruit' },
    ],
  },
  {
    name: 'Lunch (balanced)',
    examples: 'Chicken + rice + salad; tuna + bread + tomatoes.',
    tags: [
      { label: 'Protein', value: '45-60 g' },
      { label: 'Carbs', value: '60-90 g' },
      { label: 'Calories', value: '600-800' },
      { label: 'Fiber', value: 'Veg + legumes' },
    ],
  },
  {
    name: 'Snack (protein)',
    examples: 'Skyr + fruit; whey + milk + banana.',
    tags: [
      { label: 'Protein', value: '25-35 g' },
      { label: 'Carbs', value: '30-50 g' },
      { label: 'Calories', value: '250-350' },
      { label: 'Timing', value: 'Mid-afternoon' },
    ],
  },
  {
    name: 'Dinner (family)',
    examples: 'Lean protein + carbs + veg; stir-fry + rice.',
    tags: [
      { label: 'Protein', value: '35-55 g' },
      { label: 'Carbs', value: '50-80 g' },
      { label: 'Calories', value: '600-800' },
      { label: 'Recovery', value: 'Keep spice/fat moderate' },
    ],
  },
];

const SUNDAY_CARDIO_MEAL_TEMPLATES: MealTemplate[] = [
  {
    name: 'Breakfast (steady energy)',
    examples: 'Oats + whey + berries; eggs + toast + fruit.',
    tags: [
      { label: 'Protein', value: '30-40 g' },
      { label: 'Carbs', value: '50-70 g' },
      { label: 'Calories', value: '450-600' },
      { label: 'Hydration', value: '500 ml water' },
    ],
  },
  {
    name: 'Cardio snack',
    examples: 'Banana + coffee; toast + honey.',
    tags: [
      { label: 'Protein', value: '0-15 g' },
      { label: 'Carbs', value: '25-45 g' },
      { label: 'Calories', value: '150-250' },
      { label: 'Timing', value: '30-60 min pre' },
    ],
  },
  {
    name: 'Post-cardio meal',
    examples: 'Lean protein + rice; skyr + granola.',
    tags: [
      { label: 'Protein', value: '30-45 g' },
      { label: 'Carbs', value: '40-60 g' },
      { label: 'Calories', value: '450-650' },
      { label: 'Recovery', value: 'Low fat/spice' },
    ],
  },
  {
    name: 'Dinner (family)',
    examples: 'Family meal + "protein patch" if low protein.',
    tags: [
      { label: 'Protein', value: '35-55 g' },
      { label: 'Carbs', value: '50-80 g' },
      { label: 'Calories', value: '600-800' },
      { label: 'Vitamins', value: 'Veg + herbs' },
    ],
  },
];

export const DATA: WeekdayData = {
  schedule: [
    {
      id: 'b0800',
      start: '08:00',
      end: '08:10',
      title: 'Wake + water + light',
      purpose: 'Circadian anchor, hydration',
      good: '500 ml water; 2-5 minutes outdoor light (or bright window).',
      tag: 'Health',
    },
    {
      id: 'b0810',
      start: '08:10',
      end: '08:30',
      title: 'Breakfast + pack lunch',
      purpose: 'Energy stability, remove friction',
      good: '30-40 g protein; lunch box + snack + shaker packed.',
      tag: 'Nutrition',
    },
    {
      id: 'b0830',
      start: '08:30',
      end: '08:45',
      title: 'Leave buffer + commute',
      purpose: 'On-time start, low stress',
      good: 'Out the door by 08:45; 1-sentence "system observation" note.',
      tag: 'Systems',
    },
    {
      id: 'b0900',
      start: '09:00',
      end: '09:10',
      title: 'Start work + coffee #1 + plan',
      purpose: 'Controlled caffeine, clear priorities',
      good: '1 espresso; write top 3 outcomes + first 30-min task.',
      tag: 'Work',
    },
    {
      id: 'b0910',
      start: '09:10',
      end: '11:10',
      title: 'Deep Work #1',
      purpose: 'High-cognitive coding/design',
      good: 'Single task; ship one concrete increment (commit/PR draft).',
      tag: 'Work',
    },
    {
      id: 'b1110',
      start: '11:10',
      end: '11:30',
      title: 'Shallow work + buffer',
      purpose: 'Protect deep work, prep lunch',
      good: 'Batch messages; list blockers/questions.',
      tag: 'Work',
    },
    {
      id: 'b1130',
      start: '11:30',
      end: '12:30',
      title: 'Lunch (packed) + walk + reset',
      purpose: 'Recovery, avoid crash',
      good: 'Eat in 20-25 min; 10-min walk + 2-min reset.',
      tag: 'Nutrition',
    },
    {
      id: 'b1230',
      start: '12:30',
      end: '14:30',
      title: 'Deep Work #2',
      purpose: 'Second focus window',
      good: 'Measurable progress; avoid meetings/inbox.',
      tag: 'Work',
    },
    {
      id: 'b1430',
      start: '14:30',
      end: '14:40',
      title: 'Micro-break',
      purpose: 'Prevent attention decay',
      good: 'Water; 200-400 steps; 30-sec distance gaze.',
      tag: 'Health',
    },
    {
      id: 'b1440',
      start: '14:40',
      end: '15:30',
      title: 'Meetings/admin/reviews',
      purpose: 'Batch reactive work',
      good: 'One batch; no constant checking.',
      tag: 'Work',
    },
    {
      id: 'b1530',
      start: '15:30',
      end: '15:40',
      title: 'Coffee #2 (optional)',
      purpose: 'Second wave without sleep cost',
      good: 'Only if needed; last caffeine by 15:40.',
      tag: 'Work',
    },
    {
      id: 'b1540',
      start: '15:40',
      end: '17:00',
      title: 'Wrap-up + tomorrow seed',
      purpose: 'Clean shutdown',
      good: 'Resume-point note; tomorrow top 3 written.',
      tag: 'Work',
    },
    {
      id: 'b1700',
      start: '17:00',
      end: '17:30',
      title: 'Commute + decompression',
      purpose: 'Transition to recovery',
      good: 'No rabbit holes; 5 slow breaths.',
      tag: 'Health',
    },
    {
      id: 'b1730',
      start: '17:30',
      end: '18:20',
      title: 'Home meal #1 (family)',
      purpose: 'Main calories + protein',
      good: '40-60 g protein; carbs + veg; add "protein patch" if needed.',
      tag: 'Nutrition',
    },
    {
      id: 'b1820',
      start: '18:20',
      end: '18:45',
      title: 'Rest (low stimulation)',
      purpose: 'Recovery',
      good: '10 min legs-up or easy walk; no intense scrolling.',
      tag: 'Health',
    },
    {
      id: 'b1845',
      start: '18:45',
      end: '19:10',
      title: 'Pre-gym snack + learning',
      purpose: 'Fuel + daily compounding',
      good: 'Snack (20-40g carbs + 20-30g protein); 20 min active recall.',
      tag: 'Learning',
    },
    {
      id: 'b1910',
      start: '19:10',
      end: '19:30',
      title: 'Commute + warm-up start',
      purpose: 'Arrive ready',
      good: 'Ramp sets started; no rushing.',
      tag: 'Training',
    },
    {
      id: 'b2110',
      start: '21:10',
      end: '21:45',
      title: 'Home + shower',
      purpose: 'Transition to recovery',
      good: '500 ml water; electrolytes only if heavy sweat.',
      tag: 'Health',
    },
    {
      id: 'b2145',
      start: '21:45',
      end: '22:10',
      title: 'Post-workout meal #2',
      purpose: 'Recovery + sleep protection',
      good: '35-50 g protein; moderate carbs; low fat/spice.',
      tag: 'Nutrition',
    },
    {
      id: 'b2210',
      start: '22:10',
      end: '22:30',
      title: 'Mechanism of the day (20 min)',
      purpose: 'Systems thinking',
      good: 'Model + invariants; 6-sentence explanation.',
      tag: 'Systems',
    },
    {
      id: 'b2230',
      start: '22:30',
      end: '22:55',
      title: 'Prep tomorrow (lunch/clothes)',
      purpose: 'Consistency',
      good: 'Lunch box built; clothes ready; lights dim.',
      tag: 'Ops',
    },
    {
      id: 'b2255',
      start: '22:55',
      end: '23:00',
      title: 'Closeout (<=5 min)',
      purpose: 'Shutdown',
      good: 'Top 3 tomorrow; 1-line reflection; in bed.',
      tag: 'Ops',
    },
  ],
  program: {
    'Push (Chest + Triceps)': [
      {
        ex: 'Barbell Bench Press',
        sets: '4',
        reps: '6-10',
        rir: '1-2',
        rest: '150-180',
        notes: 'Full ROM, stable setup.',
        prog: 'Add reps -> +2.5 kg.',
      },
      {
        ex: 'Incline Dumbbell Press',
        sets: '3',
        reps: '8-12',
        rir: '1-2',
        rest: '120',
        notes: 'Controlled eccentric.',
        prog: '12s clean -> heavier DB.',
      },
      {
        ex: 'Cable Fly / Pec Deck',
        sets: '3',
        reps: '10-15',
        rir: '0-2',
        rest: '75-90',
        notes: 'Stretch under control.',
        prog: 'Add reps -> small load.',
      },
      {
        ex: 'Dips (assisted/weighted) OR Machine Press',
        sets: '2-3',
        reps: '6-10',
        rir: '1-2',
        rest: '120',
        notes: 'Pick shoulder-friendly option.',
        prog: 'Add reps first.',
      },
      {
        ex: 'Triceps Pressdown',
        sets: '3',
        reps: '10-15',
        rir: '0-1',
        rest: '60-75',
        notes: 'Elbows fixed.',
        prog: 'Add reps -> load.',
      },
      {
        ex: 'Overhead Triceps Extension (cable/DB)',
        sets: '2-3',
        reps: '10-15',
        rir: '0-2',
        rest: '60-75',
        notes: 'Long head focus.',
        prog: 'Add reps -> load.',
      },
    ],
    'Pull (Back + Biceps)': [
      {
        ex: 'Pull-ups (weighted) OR Lat Pulldown',
        sets: '4',
        reps: '6-10',
        rir: '1-2',
        rest: '150',
        notes: 'Full hang to upper chest.',
        prog: 'Add reps -> weight.',
      },
      {
        ex: 'Barbell Row OR Chest-Supported Row',
        sets: '4',
        reps: '6-10',
        rir: '1-2',
        rest: '150',
        notes: 'Back-friendly option if needed.',
        prog: 'Add reps -> load.',
      },
      {
        ex: 'Seated Cable Row',
        sets: '3',
        reps: '8-12',
        rir: '1-2',
        rest: '120',
        notes: 'Pause at contraction.',
        prog: 'Add reps -> load.',
      },
      {
        ex: 'Face Pull / Rear Delt Cable Fly',
        sets: '3',
        reps: '12-20',
        rir: '0-2',
        rest: '60-75',
        notes: 'Scap health + rear delts.',
        prog: 'Add reps -> load.',
      },
      {
        ex: 'DB Curl OR EZ-Bar Curl',
        sets: '3',
        reps: '8-12',
        rir: '0-2',
        rest: '75-90',
        notes: 'Strict form.',
        prog: 'Add reps -> load.',
      },
      {
        ex: 'Hammer Curl',
        sets: '2-3',
        reps: '10-15',
        rir: '0-2',
        rest: '60-75',
        notes: 'Forearm/brachialis.',
        prog: 'Add reps -> load.',
      },
    ],
    'Legs + Shoulders': [
      {
        ex: 'Back Squat OR Leg Press',
        sets: '4',
        reps: '6-10',
        rir: '1-2',
        rest: '180',
        notes: 'Choose what you can progress safely.',
        prog: 'Add reps -> load.',
      },
      {
        ex: 'Romanian Deadlift',
        sets: '3-4',
        reps: '6-10',
        rir: '1-2',
        rest: '150-180',
        notes: 'Hinge; neutral spine.',
        prog: 'Add reps -> load.',
      },
      {
        ex: 'Leg Curl',
        sets: '3',
        reps: '10-15',
        rir: '0-2',
        rest: '75-90',
        notes: 'Control.',
        prog: 'Add reps -> load.',
      },
      {
        ex: 'Leg Extension',
        sets: '2-3',
        reps: '10-15',
        rir: '0-2',
        rest: '75-90',
        notes: 'Quad focus.',
        prog: 'Add reps -> load.',
      },
      {
        ex: 'Standing Calf Raise',
        sets: '4',
        reps: '8-12',
        rir: '0-2',
        rest: '60-90',
        notes: 'Pause stretch + top.',
        prog: 'Add reps -> load.',
      },
      {
        ex: 'Overhead Press (BB/DB)',
        sets: '3-4',
        reps: '6-10',
        rir: '1-2',
        rest: '150',
        notes: 'Ribcage stacked.',
        prog: 'Add reps -> load.',
      },
      {
        ex: 'Lateral Raise',
        sets: '4',
        reps: '12-20',
        rir: '0-2',
        rest: '45-60',
        notes: 'No swinging.',
        prog: 'Add reps -> small load.',
      },
      {
        ex: 'Abs (Cable Crunch / Hanging Knee Raise)',
        sets: '2-3',
        reps: '10-15',
        rir: '0-2',
        rest: '60',
        notes: 'Weekly, not rare.',
        prog: 'Add reps -> load.',
      },
    ],
    'Cardio + Abs': [
      {
        ex: 'Incline treadmill walk OR bike',
        sets: '1',
        reps: '30-40 min',
        rir: 'N/A',
        rest: 'N/A',
        notes: 'Zone 2 (conversational pace).',
        prog: 'Add 2-5 min or small incline.',
      },
      {
        ex: 'Rowing or stair climber (optional)',
        sets: '1',
        reps: '10-15 min',
        rir: 'N/A',
        rest: 'N/A',
        notes: 'Low impact; steady pace.',
        prog: 'Add 2-3 min or small resistance.',
      },
      {
        ex: 'Hanging Knee Raise',
        sets: '3',
        reps: '10-15',
        rir: '1-2',
        rest: '60-75',
        notes: 'Control the swing.',
        prog: 'Add reps -> slow tempo.',
      },
      {
        ex: 'Cable Crunch',
        sets: '3',
        reps: '12-20',
        rir: '1-2',
        rest: '60-75',
        notes: 'Exhale hard; full flexion.',
        prog: 'Add reps -> load.',
      },
      {
        ex: 'Side Plank',
        sets: '2-3',
        reps: '30-45 sec',
        rir: '1-2',
        rest: '45-60',
        notes: 'No hip drop.',
        prog: 'Add 5-10 sec.',
      },
    ],
  },
  nutritionTargets: [
    {
      k: 'Goal',
      v: '72 -> 75 kg',
      n: 'Lean bulk; aim ~0.18-0.36 kg/week.',
    },
    {
      k: 'Calories',
      v: '+200-300 kcal/day',
      n: 'Adjust weekly using scale + performance.',
    },
    {
      k: 'Protein',
      v: '140-150 g/day',
      n: '~1.9-2.1 g/kg for muscle gain.',
    },
    {
      k: 'Fat',
      v: '55-70 g/day',
      n: 'Avoid very high fat pre-gym if sluggish.',
    },
    {
      k: 'Carbs',
      v: '250-350 g/day (typ.)',
      n: 'Fuel training + cognition; prioritize earlier day.',
    },
    {
      k: 'Hydration',
      v: '>=2.5 L/day',
      n: '500 ml on wake; 500 ml pre-gym.',
    },
  ],
  mealTemplates: WEEKDAY_MEAL_TEMPLATES,
  mealTemplatesByDay: {
    Monday: REST_DAY_MEAL_TEMPLATES,
    Tuesday: REST_DAY_MEAL_TEMPLATES,
    Wednesday: REST_DAY_MEAL_TEMPLATES,
    Thursday: WEEKDAY_MEAL_TEMPLATES,
    Friday: WEEKDAY_MEAL_TEMPLATES,
    Saturday: WEEKDAY_MEAL_TEMPLATES,
    Sunday: SUNDAY_CARDIO_MEAL_TEMPLATES,
  },
  supplements: [
    {
      id: 'supp_0',
      tier: 'Tier 0',
      item: 'Sleep + protein + training',
      goal: 'Base layer (highest ROI)',
      dose: '-',
      rule: 'Fix this first if anything slips.',
      timeAt: '08:00',
    },
    {
      id: 'supp_1',
      tier: 'Tier 1',
      item: 'Creatine monohydrate',
      goal: 'Strength/lean mass support',
      dose: '3-5 g/day',
      rule: 'Remove if persistent GI issues.',
      timeAt: '21:45',
    },
    {
      id: 'supp_2',
      tier: 'Tier 1',
      item: 'Vitamin D',
      goal: 'Correct low-sun risk',
      dose: '800-2000 IU/day',
      rule: 'Adjust based on 25(OH)D labs.',
      timeAt: '17:30',
    },
    {
      id: 'supp_3',
      tier: 'Tier 1',
      item: 'Magnesium glycinate',
      goal: 'Sleep quality (if helps)',
      dose: '100-300 mg elemental',
      rule: 'Remove if diarrhea or no benefit in 3 weeks.',
      timeAt: '22:00',
    },
    {
      id: 'supp_4',
      tier: 'Tier 1',
      item: 'L-theanine',
      goal: 'Smoother caffeine focus',
      dose: '100-200 mg',
      rule: 'Remove if flat/sedated.',
      timeAt: '09:00',
    },
    {
      id: 'supp_5',
      tier: 'Tier 2',
      item: 'Vitamin C (optional)',
      goal: 'Gap insurance',
      dose: '100-250 mg',
      rule: 'Drop if fruit/veg daily.',
      timeAt: '11:30',
    },
    {
      id: 'supp_6',
      tier: 'Tier 2',
      item: "Lion's mane (trial)",
      goal: 'Uncertain; trial only',
      dose: 'Up to 2 g',
      rule: 'Stop after 4 weeks if no clear benefit.',
      timeAt: '08:10',
    },
    {
      id: 'supp_7',
      tier: 'Tier 3',
      item: 'Evening stimulant pre-workout',
      goal: 'Sleep risk',
      dose: '-',
      rule: 'Remove by default; replace with snack/hydration.',
      timeAt: '15:30',
    },
  ],
  meta: {
    timezone: 'Europe/Belgrade',
    caffeineCutoff: '15:40',
    sleepTarget: '23:00',
    proteinTarget: '140-150 g/day',
    hydrationTarget: '>=2.5 L/day',
  },
};
